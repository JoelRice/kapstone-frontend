(this.webpackJsonpkapstone=this.webpackJsonpkapstone||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"baseURL",(function(){return w})),n.d(a,"getAllAuctionIds",(function(){return C})),n.d(a,"createAuction",(function(){return N})),n.d(a,"checkAuctions",(function(){return S})),n.d(a,"bidOnAuction",(function(){return T})),n.d(a,"createAccount",(function(){return I})),n.d(a,"loginRequest",(function(){return P})),n.d(a,"getAccountInfo",(function(){return k})),n.d(a,"updateAccountInfo",(function(){return B})),n.d(a,"deleteAccount",(function(){return A})),n.d(a,"logoutRequest",(function(){return E})),n.d(a,"interactWithPet",(function(){return D})),n.d(a,"getAllPetIds",(function(){return W})),n.d(a,"checkPet",(function(){return U})),n.d(a,"createPet",(function(){return z})),n.d(a,"getAllProductNames",(function(){return F})),n.d(a,"getProductDetailsByName",(function(){return q})),n.d(a,"purchaseProductByName",(function(){return L})),n.d(a,"createProduct",(function(){return G})),n.d(a,"getAllUserIds",(function(){return M})),n.d(a,"checkUser",(function(){return J}));var c=n(0),r=n.n(c),o=n(13),i=n.n(o),s=n(29),u=(n(95),n(8)),l=n(22),d=n(147),p=n(149),j=n(150),h=n(82),m=n(170),f=n(50),b=n(152),g=n(168),O=n(151),x=n(144),v=n(80),y=n.n(v),w="https://subdued-fog-mouth.glitch.me",C=function(){return fetch("".concat(w,"/auctions"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},N=function(e,t,n){return fetch("".concat(w,"/auctions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({pet:t,endsAt:n})}).then((function(e){return e.json()})).then((function(e){return e}))},S=function(e){return fetch("".concat(w,"/auctions/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},T=function(e,t,n){return fetch("".concat(w,"/auctions/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({amount:t})}).then((function(e){return e.json()})).then((function(e){return e}))},I=function(e,t){return fetch("".concat(w,"/auth/account"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e}))},P=function(e,t){return fetch("".concat(w,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))},k=function(e){return fetch("".concat(w,"/auth/account"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e}))},B=function(e,t,n,a){return fetch("".concat(w,"/auth/account"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({password:t,newUsername:n,newPassword:a})}).then((function(e){return e.json()})).then((function(e){return e}))},A=function(e,t){return fetch("".concat(w,"/auth/account"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({password:t})}).then((function(e){return e.json()})).then((function(e){return e}))},E=function(e){return fetch("".concat(w,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e}))},D=function(e,t,n){return fetch("".concat(w,"/interact"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({pet:t,product:n})}).then((function(e){return e.json()})).then((function(e){return e}))},W=function(){return fetch("".concat(w,"/pets"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},U=function(e){return fetch("".concat(w,"/pets/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},z=function(e,t,n,a,c,r,o,i){return new Promise((function(s,u){var l=new FileReader;l.onload=function(n){var u=new FormData;u.append("name",t),u.append("pictureData",n.target.result),u.append("cuddly",a),u.append("lazy",c),u.append("hungry",r),u.append("playful",o),u.append("loyal",i),fetch("".concat(w,"/admin/pet"),{method:"POST",body:u,headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return s(e)}))},l.readAsDataURL(n)}))},F=function(){return fetch("".concat(w,"/products"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},q=function(e){return fetch("".concat(w,"/products/").concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},L=function(e,t,n){return fetch("".concat(w,"/products/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({quantity:t})}).then((function(e){return e.json()})).then((function(e){return e}))},G=function(e,t,n,a,c,r){return new Promise((function(o,i){var s=new FileReader;s.onload=function(n){var i=new FormData;i.append("name",t),i.append("pictureData",n.target.result),i.append("quality",a),i.append("category",c),i.append("price",r),fetch("".concat(w,"/admin/product"),{method:"POST",body:i,headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return o(e)}))},s.readAsDataURL(n)}))},M=function(){return fetch("".concat(w,"/users"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e}))},J=function(e){return fetch("".concat(w,"/users/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e}))},R=n(10),V=n(75),H=n(63),K={token:localStorage.getItem("token")||null,toast:{text:"",color:""}},Q="LOGIN",Y="LOGOUT",X="TOAST",Z="UNTOAST",$=Object(V.a)(Object(H.devtools)(Object(H.redux)((function(e,t){switch(t.type){case Q:return localStorage.setItem("token",t.payload),{token:t.payload};case Y:return localStorage.setItem("token",""),{token:null};case X:return{toast:Object(R.a)(Object(R.a)({},e.toast),t.payload)};case Z:return{toast:K.toast};default:return e}}),K))),_=(n(99),n(1)),ee=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(l.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},tabs:{"& .MuiTabs-indicator":{backgroundColor:"#eeeeff"}}}})),te=["/adoption","/shop","/signup","/login","/users"];function ne(e){var t=Object(c.useState)(null),n=Object(u.a)(t,2),a=n[0],r=n[1],o=$((function(e){return e.dispatch})),i=$((function(e){return e.token})),s=e.history,l=Object(c.useState)((function(){var e=te.indexOf(s.location.pathname);return e>=0&&e})),x=Object(u.a)(l,2),v=x[0],w=x[1],C=function(e){r(e.currentTarget)},N=function(){r(null)};Object(c.useEffect)((function(){s.push(te[v])}),[s,v]);var S=ee();return Object(_.jsx)("div",{className:S.root,children:Object(_.jsx)(d.a,{position:"static",children:Object(_.jsxs)(p.a,{children:[Object(_.jsx)(j.a,{edge:"start",className:S.menuButton,color:"inherit","aria-label":"open drawer",onClick:C,children:Object(_.jsx)(y.a,{})}),Object(_.jsxs)(h.a,{id:"website-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:N,onChange:C,children:[Object(_.jsx)(m.a,{onClick:function(e){s.push("/profile"),w(!1),N()},children:"Profile"}),Object(_.jsx)(m.a,{onClick:function(e){w(!1),s.push("/settings"),N()},children:"Settings"}),Object(_.jsx)(m.a,{onClick:function(e){e.preventDefault(),E(i).then((function(e){e.error?(s.goBack(),o({type:Y}),o({type:X,payload:{text:e.error,color:"#EF3823"}})):(s.push("/login"),o({type:"LOGOUT"}),o({type:X,payload:{text:e.message,color:"#4BCC63"}}))}))},children:"Logout"}),Object(_.jsx)(m.a,{onClick:function(e){w(!1),s.push("/delete"),N()},children:"Delete Account"})]}),Object(_.jsx)(f.a,{className:S.title,variant:"h6",noWrap:!0,children:"KittyBay"}),Object(_.jsx)("div",{className:"navigation",children:Object(_.jsxs)(g.a,{variant:"fullWidth",value:v,className:S.tabs,indicatorColor:"secondary",onChange:function(e,t){w(t)},children:[Object(_.jsx)(O.a,{label:"Adoptions",component:b.a}),Object(_.jsx)(O.a,{label:"Shop Items",component:b.a}),Object(_.jsx)(O.a,{label:"Sign Up",component:b.a}),Object(_.jsx)(O.a,{label:"Login",component:b.a}),Object(_.jsx)(O.a,{label:"Users",component:b.a})]})})]})})})}var ae=n(160),ce=n(161),re=n(155),oe=n(153),ie=n(154),se=n(171),ue=n(159),le=Object(x.a)((function(e){return{headers:{textAlign:"center",marginTop:e.spacing(4)},fileInput:{opacity:0,zIndex:-2,position:"absolute"},textInput:{margin:e.spacing(.5),marginBottom:e.spacing(2)}}}));var de=function(){var e=le(),t=$((function(e){return e.token})),n=$((function(e){return e.dispatch})),a=Object(c.useState)({name:"",cuddly:"",lazy:"",hungry:"",playful:"",loyal:""}),r=Object(u.a)(a,2),o=r[0],i=r[1],s=function(e){i((function(t){var n=Object(R.a)({},t);return n[e.target.name]=e.target.value,n}))};return Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(f.a,{className:e.headers,component:"h2",variant:"h4",children:"Create a Cat"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),z(t,o.name,document.getElementById("file-input-newpet").files[0],o.cuddly,o.lazy,o.hungry,o.playful,o.loyal).then((function(e){e.error?n({type:X,payload:{text:e.error,color:"red"}}):(n({type:X,payload:{text:e.message,color:"green"}}),console.log(e))}))},children:[Object(_.jsx)("label",{htmlFor:"file-input-newpet",children:Object(_.jsx)(ie.a,{component:"span",children:Object(_.jsx)(re.a,{})})}),Object(_.jsx)("input",{accept:"image/png image/jpeg",id:"file-input-newpet",className:e.fileInput,type:"file",name:"photoInput",required:!0}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",fullWidth:!0,label:"Cat Name",name:"name",onChange:s,value:o.name}),Object(_.jsxs)("div",{children:[Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Cuddly (1-5)",name:"cuddly",onChange:s,value:o.cuddly}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Lazy (1-5)",name:"lazy",onChange:s,value:o.lazy}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Hungry (1-5)",name:"hungry",onChange:s,value:o.hungry}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Playful (1-5)",name:"playful",onChange:s,value:o.playful}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Loyal (1+)",name:"loyal",onChange:s,value:o.loyal})]}),Object(_.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Submit"})]})]})},pe=Object(x.a)((function(e){return{headers:{textAlign:"center",marginTop:e.spacing(4)},fileInput:{position:"absolute",zIndex:-2,opacity:0},textInput:{margin:e.spacing(.5),marginBottom:e.spacing(2)}}}));var je=function(){var e=pe(),t=$((function(e){return e.token})),n=$((function(e){return e.dispatch})),a=Object(c.useState)({name:"",quality:"",price:"",category:""}),r=Object(u.a)(a,2),o=r[0],i=r[1],s=function(e){i((function(t){var n=Object(R.a)({},t);return n[e.target.name]=e.target.value,n}))};return Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(f.a,{className:e.headers,component:"h2",variant:"h4",children:"Create a Product"}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),G(t,o.name.replaceAll(" ","-").toLowerCase(),document.getElementById("file-input-newproduct").files[0],o.quality,o.category,o.price).then((function(e){e.error?n({type:X,payload:{text:e.error,color:"red"}}):(n({type:X,payload:{text:e.message,color:"green"}}),console.log(e))}))},children:[Object(_.jsx)("label",{htmlFor:"file-input-newproduct",children:Object(_.jsx)(ie.a,{component:"span",children:Object(_.jsx)(re.a,{})})}),Object(_.jsx)("input",{accept:"image/png image/jpeg",id:"file-input-newproduct",className:e.fileInput,type:"file",name:"photoInput",required:!0}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",fullWidth:!0,label:"Product Name",name:"name",onChange:s,value:o.name}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",fullWidth:!0,label:"Category (petting, playing, resting, eating)",name:"category",onChange:s,value:o.category}),Object(_.jsxs)("div",{children:[Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Quality (1-3)",name:"quality",onChange:s,value:o.quality}),Object(_.jsx)(se.a,{variant:"outlined",className:e.textInput,margin:"normal",label:"Price (1+)",name:"price",onChange:s,value:o.price})]}),Object(_.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Submit"})]})]})},he=Object(x.a)((function(e){return{headers:{textAlign:"center",marginTop:e.spacing(4)}}}));var me=function(){var e=he();return Object(_.jsx)(ae.a,{justify:"center",align:"center",children:Object(_.jsx)(ce.a,{container:!0,component:"main",justify:"center",align:"center",style:{backgroundColor:"#cfe8fc",height:"1075px",width:"1000px"},children:Object(_.jsxs)(ce.a,{children:[Object(_.jsx)(f.a,{className:e.headers,component:"h1",variant:"h2",children:"Admin Page"}),Object(_.jsx)(de,{}),Object(_.jsx)(je,{})]})})})},fe=n(14),be=n(162),ge=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},heading1:{marginTop:e.spacing(1),paddingTop:e.spacing(1),color:e.palette.info.main}}}));function Oe(){var e=ge(),t=Object(fe.f)(),n=Object(c.useState)({username:"",password:"",confirmPassword:""}),a=Object(u.a)(n,2),r=a[0],o=a[1],i=$((function(e){return e.dispatch}));return Object(_.jsxs)(ae.a,{component:"main",maxWidth:"xs",style:{backgroundColor:"#cfe8fc",height:"500px",width:"500px"},children:[Object(_.jsx)(be.a,{}),Object(_.jsxs)("div",{className:e.paper,children:[Object(_.jsx)(f.a,{className:e.heading1,component:"h1",variant:"h2",children:"Sign Up"}),Object(_.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){if(e.preventDefault(),r.password===r.confirmPassword){var n=e.currentTarget.username.value,a=e.currentTarget.password.value;I(n,a).then((function(e){e.error?(t.push("/signup"),o({username:"",password:"",checkPassword:""}),i({type:X,payload:{text:e.error,color:"#EF3823"}})):(t.push("/login"),i({type:X,payload:{text:e.message,color:"#4BCC63"}}),i({type:Q,payload:e.token}))}))}else i({type:X,payload:{text:"Passwords don't match",color:"#EF3823"}})},children:[Object(_.jsxs)(ce.a,{container:!0,spacing:2,children:[Object(_.jsx)(ce.a,{item:!0,xs:12,children:Object(_.jsx)(se.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",autoFocus:!0,value:r.username,onChange:function(e){return o((function(t){return Object(R.a)(Object(R.a)({},t),{},{username:e.target.value})}))}})}),Object(_.jsx)(ce.a,{item:!0,xs:12,children:Object(_.jsx)(se.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:r.password,onChange:function(e){return o((function(t){return Object(R.a)(Object(R.a)({},t),{},{password:e.target.value})}))}})}),Object(_.jsx)(ce.a,{item:!0,xs:12,children:Object(_.jsx)(se.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm-password",label:"Confirm Password",type:"password",id:"confirm-password",autoComplete:"current-password",value:r.confirmPassword,onChange:function(e){return o((function(t){return Object(R.a)(Object(R.a)({},t),{},{confirmPassword:e.target.value})}))}})})]}),Object(_.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onChange:function(e){o((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))},children:"Sign Up"}),Object(_.jsx)(ce.a,{container:!0,justify:"center",children:Object(_.jsxs)(ce.a,{item:!0,children:[Object(_.jsx)(f.a,{className:e.form,component:"h1",children:"Already have an account?"}),Object(_.jsx)(ue.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){t.push("/login")},children:"Log in"})]})})]})]})]})}var xe=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},heading1:{marginTop:e.spacing(2),paddingTop:e.spacing(4),color:e.palette.info.main}}}));function ve(){var e=xe(),t=Object(fe.f)(),n=$((function(e){return e.dispatch})),a=Object(c.useState)({username:"",password:""}),r=Object(u.a)(a,2),o=r[0],i=r[1];return Object(_.jsx)("div",{children:Object(_.jsxs)(ae.a,{component:"main",style:{backgroundColor:"#cfe8fc",height:"500px",width:"500px"},children:[Object(_.jsx)(f.a,{className:e.heading1,component:"h1",variant:"h2",align:"center",children:"Log In"}),Object(_.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var a=e.currentTarget.username.value,c=e.currentTarget.password.value;P(a,c).then((function(e){e.error?(t.push("/login"),i({username:"",password:""}),n({type:X,payload:{text:e.error,color:"#EF3823"}})):(t.push("/profile"),n({type:X,payload:{text:e.message,color:"#4BCC63"}}),n({type:Q,payload:e.token}))}))},children:[Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",autoFocus:!0,value:o.username,onChange:function(e){return i((function(t){return Object(R.a)(Object(R.a)({},t),{},{username:e.target.value})}))}}),Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:o.password,onChange:function(e){return i((function(t){return Object(R.a)(Object(R.a)({},t),{},{password:e.target.value})}))}}),Object(_.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onChange:function(e){i((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))},children:"Sign In"}),Object(_.jsx)(ce.a,{container:!0,justify:"center",children:Object(_.jsxs)(ce.a,{item:!0,children:[Object(_.jsx)(f.a,{className:e.form,component:"h1",children:"Don't have an account yet?"}),Object(_.jsx)(ue.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){t.push("/signup")},children:"Sign Up"})]})})]})]})})}var ye=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},heading1:{marginTop:e.spacing(2),paddingTop:e.spacing(4),color:e.palette.info.main}}}));function we(){var e=ye(),t=Object(fe.f)(),n=$((function(e){return e.dispatch})),a=$((function(e){return e.token})),r=Object(c.useState)({password:""}),o=Object(u.a)(r,2),i=o[0],s=o[1];return Object(_.jsx)("div",{children:Object(_.jsxs)(ae.a,{component:"main",style:{backgroundColor:"#cfe8fc",height:"500px",width:"500px"},children:[Object(_.jsx)(f.a,{className:e.heading1,component:"h1",variant:"h2",children:"Delete Account"}),Object(_.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(e){var c=e.currentTarget.password.value;e.preventDefault(),A(a,c).then((function(e){e.error?(t.push("/delete"),s({password:""}),n({type:X,payload:{text:e.error,color:"#EF3823"}})):(t.push("/signup"),n({type:Y}),n({type:X,payload:{text:e.message,color:"#4BCC63"}}))}))},children:[Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:i.password,onChange:function(e){return s((function(t){return Object(R.a)(Object(R.a)({},t),{},{password:e.target.value})}))}}),Object(_.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onChange:function(e){s((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))},children:"Delete Account"}),Object(_.jsx)(ce.a,{container:!0,children:Object(_.jsx)(ce.a,{item:!0})})]})]})})}n(111);var Ce=function(){var e=$((function(e){return e.dispatch})),t=$((function(e){return e.toast})),n=(null===t||void 0===t?void 0:t.text)?"toast-show":"";return Object(c.useEffect)((function(){var n=null;return t.text&&(n=setTimeout((function(){return e({type:Z})}),2e3)),function(){clearTimeout(n)}}),[e,t]),Object(_.jsx)("div",{style:{backgroundColor:t.color},className:"toast ".concat(n),children:Object(_.jsx)("p",{children:t.text})})},Ne=n(163),Se=n(156),Te=n(164),Ie=n(165),Pe=n(166),ke=n(81),Be=n.n(ke),Ae=Object(x.a)({root:{width:315},title:{fontSize:14},pos:{marginBottom:12},image:{marginBottom:2},button:{margin:3}});function Ee(e){var t,n,a,r,o,i,s,l=Ae(),d=Object(c.useState)({}),p=Object(u.a)(d,2),j=p[0],h=p[1],m=e.petId,b=Object(c.useState)(!1),g=Object(u.a)(b,2),O=g[0],x=g[1];Object(c.useEffect)((function(){m&&U(m).then((function(e){h(e)}))}),[h,m]);return Object(_.jsxs)(Ne.a,{className:l.root,variant:"outlined",children:[Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(f.a,{variant:"h4",component:"h2",align:"center",className:l.image,children:j.name||" No Name Available"}),Object(_.jsx)("div",{className:l.image,children:j.pictureData?Object(_.jsx)(Te.a,{component:"img",style:{height:"250px"},src:j.pictureData}):""})]}),Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(f.a,{variant:"h5",component:"h2",align:"center",children:"Cat Info"}),Object(_.jsx)(Be.a,{onClick:function(){x(!O)}}),Object(_.jsxs)(Ie.a,{in:O,timeout:"auto",unmountOnExit:!0,children:[Object(_.jsx)(f.a,{variant:"h5",component:"h2",align:"center",children:"Traits:"}),Object(_.jsxs)(f.a,{className:l.pos,color:"textPrimary",align:"center",children:[Object(_.jsxs)("div",{children:["Cuddly: ",null===(t=j.traits)||void 0===t?void 0:t.cuddly]}),Object(_.jsxs)("div",{children:["Lazy: ",null===(n=j.traits)||void 0===n?void 0:n.lazy]}),Object(_.jsxs)("div",{children:["Hungry: ",null===(a=j.traits)||void 0===a?void 0:a.hungry]}),Object(_.jsxs)("div",{children:["Playful: ",null===(r=j.traits)||void 0===r?void 0:r.playful]}),Object(_.jsxs)("div",{children:["Loyal: ",null===(o=j.traits)||void 0===o?void 0:o.loyal]})]}),Object(_.jsx)(f.a,{variant:"h5",component:"h2",align:"center",children:"Stats:"}),Object(_.jsxs)(f.a,{className:l.pos,color:"textPrimary",align:"center",children:[Object(_.jsxs)("div",{children:["Tired: ",null===(i=j.stats)||void 0===i?void 0:i.tired]}),Object(_.jsxs)("div",{children:["Trusting: ",null===(s=j.stats)||void 0===s?void 0:s.trusting]})]})]})]}),Object(_.jsx)(Pe.a,{disableSpacing:!0})]})}var De=function(e){var t,n,a=Object(c.useState)({}),r=Object(u.a)(a,2),o=r[0],i=r[1],s=Object(c.useState)(""),l=Object(u.a)(s,2),d=l[0],p=l[1],j=(null===o||void 0===o||null===(t=o.bids)||void 0===t?void 0:t.reduce((function(e,t){return Math.max(e,t.amount)}),0))||0,h=(null===o||void 0===o||null===(n=o.bids)||void 0===n?void 0:n.reduce((function(e,t){return t.user===d?Math.max(e,t.amount):e}),0))||0,m=Object(c.useState)(h),b=Object(u.a)(m,2),g=b[0],O=b[1],x=Object(c.useState)(),v=Object(u.a)(x,2),y=v[0],w=v[1],C=$((function(e){return e.token})),N=$((function(e){return e.dispatch})),I=e.auctionId,P=function(){S(I).then((function(e){var t;e.error?console.log(e):(i(e),O((null===e||void 0===e||null===(t=e.bids)||void 0===t?void 0:t.reduce((function(e,t){return t.user===d?Math.max(e,t.amount):e}),0))||0))}))};return Object(c.useEffect)(P,[I,d,i]),Object(c.useEffect)((function(){k(C).then((function(e){p(e.userId)}))}),[p,C]),Object(c.useEffect)((function(){var e=setInterval((function(){return w(function(e){if(e){var t=new Date(e).getTime()-(new Date).getTime();if(t<=0)return"now";var n=Math.floor(t/36e5).toString().padStart(2,"0"),a=(Math.floor(t/6e4)%60).toString().padStart(2,"0"),c=(Math.floor(t/1e3)%60).toString().padStart(2,"0");return"in ".concat(n,":").concat(a,":").concat(c)}}(o.endsAt))}),1e3);return function(){clearInterval(e)}}),[w,o]),Object(_.jsx)(ae.a,{children:Object(_.jsx)("div",{children:Object(_.jsxs)(oe.a,{children:[Object(_.jsx)(Ee,{petId:o.pet}),Object(_.jsx)(Ne.a,{variant:"outlined",style:{flexFlow:"row nowrap",maxWidth:"315px",maxHeight:"200px",marginTop:"3px",padding:"5px"},children:Object(_.jsxs)(f.a,{children:[Object(_.jsxs)(f.a,{align:"center",children:["Bid to Beat: ",j]}),Object(_.jsx)(f.a,{align:"center",children:"Your Current Bid:"}),Object(_.jsx)(f.a,{align:"center",children:Object(_.jsx)(Se.a,{value:g,onChange:function(e){O(Number(e.target.value))},type:"number"})}),Object(_.jsxs)(f.a,{align:"center",children:["Auction ends ",y]}),Object(_.jsx)("br",{}),Object(_.jsx)(f.a,{align:"center",children:Object(_.jsx)(ue.a,{onClick:function(){g>j&&g>h?T(C,g,I).then((function(e){e.error?N({type:X,payload:{text:e.error,color:"#EF3823"}}):N({type:X,payload:{text:e.message,color:"#4BCC63"}})})).then((function(){P()})):N({type:X,payload:{text:"Bid Higher!",color:"#75a8d8"}})},variant:"contained",color:"primary",children:"Place Bid"})})]})})]})})})},We=Object(x.a)((function(e){return{root:{},container:{width:"80vw",display:"flex",flexDirection:"row",alignItems:"center",padding:15,backgroundColor:"#cfe8fc",color:e.palette.info.main},container2:{backgroundColor:"#cfe8fc",width:"80vw"},heading1:{marginTop:e.spacing(1),paddingTop:e.spacing(1),color:e.palette.info.main}}}));var Ue=function(e){var t=We(),n=Object(c.useState)([]),a=Object(u.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){C().then((function(e){e.error?console.log(e):o(e)}))}),[o]),Object(_.jsxs)("div",{className:t.root,children:[Object(_.jsxs)(ae.a,{className:t.container2,children:[Object(_.jsx)(f.a,{component:"h1",variant:"h3",align:"center",className:t.heading1,children:"Welcome to the Adoption Center"}),Object(_.jsx)(f.a,{component:"h2",variant:"h4",align:"center",className:t.heading1,children:"Adoptable Kitties"})]}),Object(_.jsx)(ae.a,{className:t.container,component:"main",children:Object(_.jsx)(ce.a,{container:!0,direction:"row",children:r.map((function(e){return Object(_.jsx)(ce.a,{item:!0,children:Object(_.jsx)(De,{auctionId:e})},e)}))})})]})};function ze(e){var t,n=e.id,a=Object(c.useState)({}),r=Object(u.a)(a,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){J(n).then((function(e){i(e)}))}),[i,n]),Object(_.jsx)("div",{className:"users-page",children:Object(_.jsx)(ae.a,{style:{backgroundColor:"#cfe8fc"},children:Object(_.jsxs)(ce.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:3,children:[Object(_.jsx)(ce.a,{item:!0,children:Object(_.jsx)(f.a,{children:o.username||"?"})}),Object(_.jsx)(ce.a,{item:!0,children:Object(_.jsxs)(f.a,{children:["Balance: ",o.balance||"0"]})}),Object(_.jsx)(ce.a,{item:!0,children:Object(_.jsxs)(f.a,{children:["Kitties: ",(null===(t=o.pets)||void 0===t?void 0:t.length)||"0"]})})]})})})}var Fe=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){M().then((function(e){e.error?console.log(e):r(e)}))}),[r]),Object(_.jsx)("ul",{children:a.map((function(e){return Object(_.jsx)(ze,{id:e},e)}))})},qe=n(167),Le=function(e){var t=e.productName,n=!e.hasOwnProperty("canBePurchased")||e.canBePurchased,a=e.hasOwnProperty("canBePurchased"),r=t.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "),o=Object(c.useState)({}),i=Object(u.a)(o,2),s=i[0],l=i[1],d=s.category?s.category[0].toUpperCase()+s.category.slice(1):"",p=$((function(e){return e.token})),j=$((function(e){return e.dispatch})),h=Object(fe.f)();Object(c.useEffect)((function(){q(t).then((function(e){e.error?console.log(e):l(e)}))}),[l,t]);return Object(_.jsx)(ce.a,{children:Object(_.jsxs)(Ne.a,{style:{marginBottom:"10px"},children:[Object(_.jsx)(qe.a,{children:d}),s.pictureData?Object(_.jsx)(Te.a,{component:"img",style:{height:"250px"},src:s.pictureData}):"",Object(_.jsx)(oe.a,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)(f.a,{variant:"h5",component:"p",children:r}),Object(_.jsxs)(f.a,{variant:"h5",component:"p",children:["Price: ",s.price]})]})}),Object(_.jsx)(Pe.a,{disableSpacing:!0,align:"center",children:a?Object(_.jsx)(ue.a,{color:"primary",variant:"contained",size:"small",onClick:n?function(e){L(p,1,t).then((function(e){e.error?j({type:X,payload:{text:e.error,color:"#EF3823"}}):j({type:X,payload:{text:e.message,color:"#4BCC63"}})}))}:function(e){h.push("/use/".concat(t))},children:n?"Purchase":"Use"}):""})]})})},Ge=Object(x.a)((function(e){return{container:{width:"80vw",display:"flex",flexDirection:"row",alignItems:"center",padding:15,backgroundColor:"#cfe8fc",color:e.palette.info.main},container2:{backgroundColor:"#cfe8fc",width:"80vw"},heading1:{marginTop:e.spacing(1),paddingTop:e.spacing(1),marginBottom:e.spacing(2),color:e.palette.info.main},catStyles:{margin:12}}}));var Me=function(e){var t,n,a,r,o=Ge(),i=Object(c.useState)({}),s=Object(u.a)(i,2),l=s[0],d=s[1],p=$((function(e){return e.token}));return Object(c.useEffect)((function(){k(p).then((function(e){e.error?console.log(e):d(e)}))}),[p,d]),Object(_.jsx)("div",{className:"profile-page",children:Object(_.jsxs)(ae.a,{style:{backgroundColor:"#cfe8fc"},children:[Object(_.jsxs)(f.a,{component:"h2",variant:"h2",align:"center",className:o.heading1,children:[l.username||"?","'s Inventory"]}),Object(_.jsxs)(f.a,{component:"h4",variant:"h4",align:"right",children:["Balance: ",l.balance||"0"]}),Object(_.jsxs)(ce.a,{align:"center",children:[Object(_.jsx)("br",{}),Object(_.jsxs)(f.a,{component:"h4",variant:"h4",align:"center",className:o.catStyles,children:["Kitties: ",(null===(t=l.pets)||void 0===t?void 0:t.length)>0?"":"None, adopt some!"]})]}),Object(_.jsx)(ce.a,{item:!0,children:Object(_.jsx)(ce.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",spacing:11,children:null===(n=l.pets)||void 0===n?void 0:n.map((function(e){return Object(_.jsx)(Ee,{petId:e,className:o.catStyles},e)}))})}),Object(_.jsxs)(f.a,{component:"h4",variant:"h4",align:"center",className:o.catStyles,children:["Items: ",(null===(a=l.inventory)||void 0===a?void 0:a.length)>0?"":"None, buy some!"]}),Object(_.jsx)(ce.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",spacing:11,children:null===(r=l.inventory)||void 0===r?void 0:r.map((function(e,t){return Object(_.jsx)(Le,{canBePurchased:!1,productName:e},t)}))})]})})},Je=n(158),Re=n(173),Ve=n(169),He=Object(x.a)((function(e){return{paper:{backgroundColor:"#cfe8fc",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"70vw"},form:{width:"100%",marginTop:e.spacing(0)},submit:{marginTop:"10px",marginBottom:"10px"},heading1:{marginTop:e.spacing(1),paddingTop:e.spacing(1),marginBottom:e.spacing(4),color:e.palette.info.main},formControl:{margin:e.spacing(1),maxWidth:160,background:"#7eaeda0a"}}}));function Ke(){var e=He(),t=Object(fe.f)(),n=$((function(e){return e.token})),a=$((function(e){return e.dispatch})),r=t.location.pathname.split("/").slice(-1)[0],o=Object(c.useState)([]),i=Object(u.a)(o,2),s=i[0],l=i[1],d=Object(c.useState)({}),p=Object(u.a)(d,2),j=p[0],h=p[1],b=Object(c.useState)(""),g=Object(u.a)(b,2),O=g[0],x=g[1];return Object(c.useEffect)((function(){k(n).then((function(e){e.error?console.log(e):(l(e.pets),x(e.pets[0]))}))}),[l,x,n]),Object(c.useEffect)((function(){var e={};s.forEach((function(t){U(t).then((function(n){n.error?console.log(n):(e[t]=n,Object.keys(e).length===s.length&&h(e))}))}))}),[s,h]),Object(_.jsx)("div",{children:Object(_.jsxs)(ae.a,{component:"main",className:e.paper,children:[Object(_.jsx)(f.a,{className:e.heading1,component:"h1",variant:"h2",align:"center",children:"Interact with your Pets!"}),Object(_.jsx)(Le,{productName:r}),Object(_.jsxs)(Je.a,{fullWidth:!0,className:e.formControl,children:[Object(_.jsx)(Re.a,{children:"Select a Pet"}),Object(_.jsx)(Ve.a,{className:e.submit,value:O,onChange:function(e){x(e.target.value)},children:s.map((function(e){var t;return Object(_.jsx)(m.a,{value:e,children:(null===(t=j[e])||void 0===t?void 0:t.name)||"Loading..."},e)}))})]}),O?Object(_.jsx)(Ee,{petId:O}):"",Object(_.jsx)(ue.a,{type:"button",variant:"contained",color:"primary",className:e.submit,onClick:function(e){D(n,O,r).then((function(e){e.error?a({type:X,payload:{text:e.error,color:"red"}}):(a({type:X,payload:{text:e.message,color:"green"}}),t.push("/profile"))}))},children:"Use Item"})]})})}var Qe=function(e){var t=e.products;return Object(_.jsx)(_.Fragment,{children:t.map((function(e){return Object(_.jsx)(Le,{canBePurchased:!0,productName:e},e)}))})},Ye=n(113),Xe=Object(Ye.a)((function(e){return{typographyStyle:{color:"#2196f3"},cardMargin:{margin:5}}})),Ze=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Xe();return Object(c.useEffect)((function(){F().then((function(e){e.error?console.log(e):a(e)}))}),[a]),Object(_.jsxs)("div",{children:[Object(_.jsx)("br",{}),Object(_.jsxs)(ae.a,{justify:"center",align:"center",style:{backgroundColor:"#cfe8fc",width:"80vw"},children:[Object(_.jsx)(f.a,{className:r.typographyStyle,component:"h2",variant:"h2",align:"center",children:"Shop Items"}),Object(_.jsx)("br",{}),Object(_.jsx)(ce.a,{container:!0,direction:"row",justify:"space-evenly","align-items":"flex-start",className:r.cardMargin,children:Object(_.jsx)(Qe,{products:n})})]})]})},$e=Object(x.a)((function(e){return{root:{height:"100vh",margin:"auto"},header:{textAlign:"center",marginTop:e.spacing(4)},heading1:{marginTop:e.spacing(2),paddingTop:e.spacing(4),color:e.palette.info.main,align:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function _e(e){var t=$e(),n=Object(fe.f)(),a=$((function(e){return e.dispatch})),r=$((function(e){return e.token})),o=Object(c.useState)({password:"",newPassword:"",newUsername:""}),i=Object(u.a)(o,2),s=i[0],d=i[1],p=function(e){d((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))};return Object(_.jsxs)(ae.a,{component:"main",maxWidth:"lg",align:"center",style:{backgroundColor:"#cfe8fc",height:"30vw",width:"900px"},children:[Object(_.jsx)(be.a,{}),Object(_.jsx)("header",{className:"header",children:Object(_.jsx)(f.a,{className:t.heading1,component:"h1",variant:"h2",children:"Settings"})}),Object(_.jsx)(ce.a,{container:!0,component:"main",className:t.root,children:Object(_.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),s.password===s.newPassword&&a({type:X,payload:{text:"Passwords can't match",color:"#EF3823"}}),B(r,s.password,s.newUsername,s.newPassword).then((function(e){e.error?(d({password:"",newPassword:"",newUsername:""}),a({type:X,payload:{text:e.error,color:"#EF3823"}})):(n.push("/profile"),a({type:X,payload:{text:e.message,color:"#4BCC63"}}))}))},children:[Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"Update Username",value:s.username,onChange:p,name:"newUsername"}),Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,label:"Current Password",value:s.password,name:"password",onChange:p,autoCapitalize:"none",type:"password"}),Object(_.jsx)(se.a,{variant:"outlined",margin:"normal",fullWidth:!0,label:"New Password",name:"newPassword",value:s.newPassword,onChange:p,autoCapitalize:"none",type:"password"}),Object(_.jsx)(ue.a,{type:"submit",size:"lg",variant:"contained",color:"primary",className:"submit",children:"Submit"})]})})]})}var et=function(){var e=Object(fe.f)(),t=$((function(e){return e.token}));return Object(c.useEffect)((function(){window.showAdmin=function(){e.push("/admin")},window.onbeforeunload=function(t){localStorage.setItem("lastVisit",e.location.pathname),window.location.pathname="/"},null!==t&&"/"===e.location.pathname&&e.push(localStorage.getItem("lastVisit"))}),[]),Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)("header",{className:"App-header",children:[Object(_.jsx)(Ce,{}),Object(_.jsx)(fe.a,{component:ne,path:"/"}),Object(_.jsxs)(fe.c,{children:[Object(_.jsx)(fe.a,{exact:!0,path:"/admin",component:me}),Object(_.jsx)(fe.a,{exact:!0,path:"/signup",component:Oe}),Object(_.jsx)(fe.a,{exact:!0,path:"/login",component:ve}),Object(_.jsx)(fe.a,{exact:!0,path:"/delete",component:we}),Object(_.jsx)(fe.a,{exact:!0,path:"/adoption",component:Ue}),Object(_.jsx)(fe.a,{exact:!0,path:"/shop",component:Ze}),Object(_.jsx)(fe.a,{component:Fe,path:"/users"}),Object(_.jsx)(fe.a,{component:Me,path:"/profile"}),Object(_.jsx)(fe.a,{exact:!0,path:"/settings",component:_e}),Object(_.jsx)(fe.a,{exact:!0,path:"/use/:productName",component:Ke})]})]})})};window.req=a,i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(s.a,{basename:"/kapstone-frontend",children:Object(_.jsx)(et,{})})}),document.getElementById("root"))},95:function(e,t,n){},99:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.53327937.chunk.js.map